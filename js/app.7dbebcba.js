(function(){var t={28:function(t,s,e){"use strict";var i=e(6369),a=function(){var t=this,s=t._self._c;return s("div",{staticClass:"gx-2",attrs:{id:"dice-roll-app"}},[s("div",{staticClass:"container",staticStyle:{overflow:"visible"}},[t._m(0),t.visible?s("ConfettiExplosion"):t._e(),s("DiceRoll",{staticClass:"mb-5",attrs:{msg:"Welcome to Your Vue.js App"},on:{updateResults:t.updateResults}})],1),s("div",{staticClass:"row my-3",staticStyle:{"min-height":"400px",margin:"100px 50px"}},t._l(t.userChoices,(function(e,i){return s("div",{key:e.id,staticClass:"col-2"},[s("BettingEach",{staticClass:"mr-2 mb-3",attrs:{userChoice:e,userIndex:i,results:t.results},on:{makeChoice:t.makeChoice,clearChoice:t.clearChoice}})],1)})),0),s("div",{staticClass:"container"},[t._m(1),s("div",{staticClass:"shadow shadow-lg mb-5",staticStyle:{position:"relative"}},[s("BettingPlacement",{on:{placeABet:t.placeABet}}),t.startDiceRoll?s("div",{staticStyle:{position:"absolute",width:"100%",height:"100%","background-color":"gray",top:"0",opacity:"0.7"}}):t._e()],1),s("div",[t._v(".")])])])},c=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"text-center"},[s("img",{staticClass:"mt-5",attrs:{alt:"Vue logo",src:e(6949),height:"250px"}})])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"text-center"},[s("img",{staticClass:"my-5",attrs:{alt:"Vue logo",src:e(6949),height:"250px"}})])}],n=(e(7658),function(){var t=this,s=t._self._c;return s("div",{staticClass:"card card-body"},[s("div",{staticClass:"d-flex justify-content-between mb-2"},[s("span",[s("span",{staticClass:"badge badge-success"},[t._v(" "+t._s(t.userChoice.code))]),t._v("   "),s("span",[t._v(t._s(t.userChoice.name)+" ")])]),t.userChoice.score>0?s("div",{staticClass:"badge badge-success",staticStyle:{width:"30px"}},[t._v(t._s(t.userChoice.score)+"đ")]):t._e(),0===t.userChoice.score?s("div",{staticClass:"badge badge-warning",staticStyle:{width:"30px"}},[t._v(t._s(t.userChoice.score)+"đ")]):t._e()]),s("div",{staticClass:"row no-gutters"},[t._l(t.getUsersChoices(),(function([i,a]){return s("div",{key:a,staticClass:"col-3 text-center"},[s("img",{attrs:{src:e(7228)("./dice-side-"+a+".png"),alt:"1",width:"30"}}),s("div",[t._v(t._s(i))])])})),s("div",{staticClass:"col-3 fw-bold"},[s("button",{staticClass:"btn btn-sm btn-outline text-danger",on:{click:function(s){return t.clearBet()}}},[t._v("X")])])],2),s("div",[s("div",[t.userChoice.gift?s("small",[t._v("Chúc mừng bạn nhận được "+t._s(t.userChoice.gift))]):t._e()]),t.userChoice.has_joined?s("div",{staticClass:"badge badge-danger"},[t._v(" Người chơi đã từng tham gia")]):t._e()])])}),o=[],r={name:"BettingEach",props:{userChoice:{type:Object,required:!0},results:{type:Array,default:()=>[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},userIndex:{type:Number,required:!0}},data:()=>({}),methods:{getUsersChoices(){return this?.userChoice.choices.map(((t,s)=>[t,s])).filter((([t])=>t>0))},bet(t){this.$emit("makeChoice",t,this.userIndex)},clearBet(){this.$emit("clearChoice",this.userIndex)},calculateScore(){this.score=0,this.results.forEach((t=>{this.score+=this.user.choices[t]}))}}},d=r,l=e(1001),u=(0,l.Z)(d,n,o,!1,null,"3880e46e",null),p=u.exports,h=function(){var t=this,s=t._self._c;return s("div",{staticClass:"m-5"},[t._m(0),s("div",{staticClass:"mt-5 text-center"},[s("button",{attrs:{type:"button",id:"roll-button"},on:{click:t.rollDice}},[t._v("Bắt đầu")])])])},m=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"dice"},[s("ol",{staticClass:"die-list even-roll",attrs:{"data-roll":"1",id:"die-1"}},[s("li",{staticClass:"die-item",attrs:{"data-side":"1","dice-id":"1"}},[s("span",{staticClass:"dot"})]),s("li",{staticClass:"die-item",attrs:{"data-side":"2","dice-id":"1"}},[s("span",{staticClass:"dot"}),s("span",{staticClass:"dot"})]),s("li",{staticClass:"die-item",attrs:{"data-side":"3","dice-id":"1"}},[s("span",{staticClass:"dot"}),s("span",{staticClass:"dot"}),s("span",{staticClass:"dot"})]),s("li",{staticClass:"die-item",attrs:{"data-side":"4","dice-id":"1"}},[s("span",{staticClass:"dot"}),s("span",{staticClass:"dot"}),s("span",{staticClass:"dot"}),s("span",{staticClass:"dot"})]),s("li",{staticClass:"die-item",attrs:{"data-side":"5","dice-id":"1"}},[s("span",{staticClass:"dot"}),s("span",{staticClass:"dot"}),s("span",{staticClass:"dot"}),s("span",{staticClass:"dot"}),s("span",{staticClass:"dot"})]),s("li",{staticClass:"die-item",attrs:{"data-side":"6","dice-id":"1"}},[s("span",{staticClass:"dot"}),s("span",{staticClass:"dot"}),s("span",{staticClass:"dot"}),s("span",{staticClass:"dot"}),s("span",{staticClass:"dot"}),s("span",{staticClass:"dot"})])]),s("ol",{staticClass:"die-list odd-roll",attrs:{"data-roll":"1",id:"die-2"}},[s("li",{staticClass:"die-item",attrs:{"data-side":"1","dice-id":"2"}},[s("span",{staticClass:"dot"})]),s("li",{staticClass:"die-item",attrs:{"data-side":"2","dice-id":"2"}},[s("span",{staticClass:"dot"}),s("span",{staticClass:"dot"})]),s("li",{staticClass:"die-item",attrs:{"data-side":"3","dice-id":"2"}},[s("span",{staticClass:"dot"}),s("span",{staticClass:"dot"}),s("span",{staticClass:"dot"})]),s("li",{staticClass:"die-item",attrs:{"data-side":"4","dice-id":"2"}},[s("span",{staticClass:"dot"}),s("span",{staticClass:"dot"}),s("span",{staticClass:"dot"}),s("span",{staticClass:"dot"})]),s("li",{staticClass:"die-item",attrs:{"data-side":"5","dice-id":"2"}},[s("span",{staticClass:"dot"}),s("span",{staticClass:"dot"}),s("span",{staticClass:"dot"}),s("span",{staticClass:"dot"}),s("span",{staticClass:"dot"})]),s("li",{staticClass:"die-item",attrs:{"data-side":"6","dice-id":"2"}},[s("span",{staticClass:"dot"}),s("span",{staticClass:"dot"}),s("span",{staticClass:"dot"}),s("span",{staticClass:"dot"}),s("span",{staticClass:"dot"}),s("span",{staticClass:"dot"})])]),s("ol",{staticClass:"die-list odd-roll mid-roll",attrs:{"data-roll":"1",id:"die-3"}},[s("li",{staticClass:"die-item",attrs:{"data-side":"1","dice-id":"3"}},[s("span",{staticClass:"dot"})]),s("li",{staticClass:"die-item",attrs:{"data-side":"2","dice-id":"3"}},[s("span",{staticClass:"dot"}),s("span",{staticClass:"dot"})]),s("li",{staticClass:"die-item",attrs:{"data-side":"3","dice-id":"3"}},[s("span",{staticClass:"dot"}),s("span",{staticClass:"dot"}),s("span",{staticClass:"dot"})]),s("li",{staticClass:"die-item",attrs:{"data-side":"4","dice-id":"3"}},[s("span",{staticClass:"dot"}),s("span",{staticClass:"dot"}),s("span",{staticClass:"dot"}),s("span",{staticClass:"dot"})]),s("li",{staticClass:"die-item",attrs:{"data-side":"5","dice-id":"3"}},[s("span",{staticClass:"dot"}),s("span",{staticClass:"dot"}),s("span",{staticClass:"dot"}),s("span",{staticClass:"dot"}),s("span",{staticClass:"dot"})]),s("li",{staticClass:"die-item",attrs:{"data-side":"6","dice-id":"3"}},[s("span",{staticClass:"dot"}),s("span",{staticClass:"dot"}),s("span",{staticClass:"dot"}),s("span",{staticClass:"dot"}),s("span",{staticClass:"dot"}),s("span",{staticClass:"dot"})])])])}],C={name:"DiceRoll",props:{msg:String,results:Array},mounted(){const t=[...document.querySelectorAll(".die-list")];t.forEach((t=>{t.childNodes.forEach((t=>{const s=this.getRandomNumber(1,16);t.classList.add(`dice-image-${s}`)}))}))},methods:{toggleClasses(t){t.classList.toggle("odd-roll"),t.classList.toggle("even-roll")},getRandomNumber(t,s){return Math.floor(Math.random()*(s-t+1))+t},rollDice(){const t=[...document.querySelectorAll(".die-list")],s=[];t.forEach((t=>{const e=t.childNodes;this.toggleClasses(t);const i=this.getRandomNumber(1,6),a=this.getRandomNumber(1,16);t.dataset.roll=i,e[i-1].className=e[i-1].className.replace(/dice-image-\d+/g,""),e[i-1].classList.add(`dice-image-${a}`),s.push(a)})),this.$emit("updateResults",s)}}},g=C,f=(0,l.Z)(g,h,m,!1,null,"2db8faa8",null),v=f.exports,b=function(){var t=this,s=t._self._c;return s("form",{staticClass:"card card-body m-1",attrs:{id:"betting-placement",autocomplete:"off"}},[s("div",{staticClass:"card card-body"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-1 py-1"},[t._v("Tên:")]),s("div",{staticClass:"col-2 py-1"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{required:"",type:"text",id:"name",name:"name","aria-label":"name",autocomplete:"off"},domProps:{value:t.name},on:{input:function(s){s.target.composing||(t.name=s.target.value)}}})]),s("div",{staticClass:"col-1 py-1"},[t._v("Mã:")]),s("div",{staticClass:"col-2 py-1"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],staticClass:"form-control",attrs:{required:"",type:"text",id:"code",name:"code","aria-label":"code",autocomplete:"off"},domProps:{value:t.code},on:{input:function(s){s.target.composing||(t.code=s.target.value)}}})]),s("div",{staticClass:"col-1 py-1"},[t._v("SĐT:")]),s("div",{staticClass:"col-2 py-1"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.phone_number,expression:"phone_number"}],staticClass:"form-control",attrs:{required:"",type:"text",id:"phone_number",name:"phone_number","aria-label":"phone_number"},domProps:{value:t.phone_number},on:{input:function(s){s.target.composing||(t.phone_number=s.target.value)}}})]),s("div",{staticClass:"col-3 py-1 text-right"},[s("button",{staticClass:"btn btn-sm btn-success",on:{click:function(s){return s.preventDefault(),t.placeABet()}}},[t._v("CHỐT !")])])])]),s("div",{staticClass:"row mt-3 d-flex justify-content-center"},t._l(16,(function(i){return s("div",{key:i,staticClass:"col-2 mb-2"},[s("button",{staticClass:"btn",staticStyle:{position:"relative"},on:{click:function(s){return s.preventDefault(),t.bet(i)}}},[s("img",{staticClass:"shadow-lg",attrs:{src:e(7228)("./dice-side-"+i+".png"),alt:"1",width:"120"}}),t.choices[i]>0?s("div",{staticClass:"border border-success rounded-circle",staticStyle:{"background-color":"green",position:"absolute",bottom:"10px",right:"10px",width:"40px",height:"40px"}},[s("span",{staticClass:"text-light",staticStyle:{"font-size":"20px","font-weight":"bold"}},[t._v(t._s(t.choices[i]))])]):t._e()])])})),0),s("div",{staticClass:"d-flex justify-content-between mt-2"},[s("button",{staticClass:"btn btn-sm btn-outline text-danger",on:{click:function(s){return s.preventDefault(),t.clearBet()}}},[t._v("Chọn lại")]),t.error?s("b",{staticClass:"text-danger"},[t._v(t._s(t.error))]):t._e()])])},_=[],y={name:"BettingPlacement",props:{userChoice:{type:Object},results:{type:Array,default:()=>[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},userIndex:{type:Number}},data:()=>({name:"",choices:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],phone_number:"",code:"",count:0,note:"",error:""}),methods:{getImgUrl(t){return e(7228)("./dice-side-"+t+".png")},bet(t){if(this.count<3){let s=this.choices[t];s++,this.count++,this.choices.splice(t,1,s)}},clearBet(){this.count=0,this.choices.splice(0,17,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},placeABet(){this.error="",""!==this.code&&""!==this.phone_number?(this.$emit("placeABet",this.name,this.phone_number,this.code,this.note,this.choices),this.name="",this.phone_number="",this.code="",this.note="",this.choices.splice(0,17,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0),this.count=0,this.$alert("","Thành công !","success")):this.error="Vui lòng điền mã code và SĐT."}}},x=y,w=(0,l.Z)(x,b,_,!1,null,"eb5e8a28",null),k=w.exports,O={name:"App",components:{BettingPlacement:k,BettingEach:p,DiceRoll:v},data:()=>({userChoices:[],results:[],startDiceRoll:!1,readyForNewTurn:!1,usersHaveJoined:{},gifts:["Quà 1","Quà 2","Quà 3"],visible:!1}),methods:{async updateResults(t){this.startDiceRoll=!0,this.readyForNewTurn=!0;let s=this.userChoices.map((s=>{let e=0;t.forEach((t=>{e+=s.choices[t]}));let i=null;return 1===e&&(i=this.gifts[0]),2===e&&(i=this.gifts[1]),e>=3&&(i=this.gifts[2]),s={...s,score:e,gift:i},s}));const e=s.map((t=>({name:t.name,code:t.code,score:t.score,phone_number:t.phone_number,gift:t.gift})));if(e.length>0)try{const t=await this.axios.post("https://chiakhoathongminh.vn/api/campaigns/set-score-for-participants",{scores:e}),i=t.data.data.participant_have_joined;Object.keys(i).length>0&&(s=s.map((t=>({...t,has_joined:!!i[t.code]}))))}catch(i){console.log(i)}setTimeout((async()=>{this.startDiceRoll=!1,this.results=t,this.userChoices=s}),9e3),setTimeout((async()=>{this.$confetti.start(),setTimeout((()=>{this.$confetti.stop()}),5e3)}),8e3)},makeChoice(t,s){let e=this.userChoices[s].count;if(e<3){let i=this.userChoices[s].choices;i[t]++,e+=1,this.userChoices.splice(s,1,{...this.userChoices[s],choices:i,count:e})}},placeABet(t,s,e,i,a){this.readyForNewTurn&&(this.userChoices=[],this.readyForNewTurn=!1),this.userChoices.push({id:Math.random(),choices:[...a],name:t,phone_number:s,code:e,note:i})},clearChoice(t){this.userChoices.splice(t,1)}}},S=O,j=(0,l.Z)(S,a,c,!1,null,null,null),N=j.exports,T=e(6681),B=e(9425),E=e(4161),R=e(6423),A=e(1166),D=e(4303),P=e.n(D);e(7024);i["default"].config.productionTip=!1,i["default"].use(T.XG7),i["default"].use(R.Z,E.Z),i["default"].use(A.Z),i["default"].use(P()),i["default"].use(B.A7),new i["default"]({render:t=>t(N)}).$mount("#app")},7228:function(t,s,e){var i={"./dice-side-1.png":607,"./dice-side-10.png":538,"./dice-side-11.png":1463,"./dice-side-12.png":763,"./dice-side-13.png":7995,"./dice-side-14.png":6384,"./dice-side-15.png":4148,"./dice-side-16.png":7323,"./dice-side-2.png":65,"./dice-side-3.png":5562,"./dice-side-4.png":3967,"./dice-side-5.png":9911,"./dice-side-6.png":3920,"./dice-side-7.png":1794,"./dice-side-8.png":8328,"./dice-side-9.png":3417};function a(t){var s=c(t);return e(s)}function c(t){if(!e.o(i,t)){var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}return i[t]}a.keys=function(){return Object.keys(i)},a.resolve=c,t.exports=a,a.id=7228},607:function(t,s,e){"use strict";t.exports=e.p+"img/dice-side-1.ae6cb460.png"},538:function(t,s,e){"use strict";t.exports=e.p+"img/dice-side-10.8808b94d.png"},1463:function(t,s,e){"use strict";t.exports=e.p+"img/dice-side-11.e6cec0c5.png"},763:function(t,s,e){"use strict";t.exports=e.p+"img/dice-side-12.f31cf1eb.png"},7995:function(t,s,e){"use strict";t.exports=e.p+"img/dice-side-13.580ea035.png"},6384:function(t,s,e){"use strict";t.exports=e.p+"img/dice-side-14.c19cae7e.png"},4148:function(t,s,e){"use strict";t.exports=e.p+"img/dice-side-15.a72a0ad2.png"},7323:function(t,s,e){"use strict";t.exports=e.p+"img/dice-side-16.0b35d864.png"},65:function(t,s,e){"use strict";t.exports=e.p+"img/dice-side-2.9c554553.png"},5562:function(t,s,e){"use strict";t.exports=e.p+"img/dice-side-3.abc53fa0.png"},3967:function(t,s,e){"use strict";t.exports=e.p+"img/dice-side-4.fdd1b51c.png"},9911:function(t,s,e){"use strict";t.exports=e.p+"img/dice-side-5.3471009a.png"},3920:function(t,s,e){"use strict";t.exports=e.p+"img/dice-side-6.b110712f.png"},1794:function(t,s,e){"use strict";t.exports=e.p+"img/dice-side-7.2aee8525.png"},8328:function(t,s,e){"use strict";t.exports=e.p+"img/dice-side-8.145cef1b.png"},3417:function(t,s,e){"use strict";t.exports=e.p+"img/dice-side-9.accb46fa.png"},6949:function(t,s,e){"use strict";t.exports=e.p+"img/logo.207c2688.png"}},s={};function e(i){var a=s[i];if(void 0!==a)return a.exports;var c=s[i]={id:i,loaded:!1,exports:{}};return t[i].call(c.exports,c,c.exports,e),c.loaded=!0,c.exports}e.m=t,function(){e.amdO={}}(),function(){var t=[];e.O=function(s,i,a,c){if(!i){var n=1/0;for(l=0;l<t.length;l++){i=t[l][0],a=t[l][1],c=t[l][2];for(var o=!0,r=0;r<i.length;r++)(!1&c||n>=c)&&Object.keys(e.O).every((function(t){return e.O[t](i[r])}))?i.splice(r--,1):(o=!1,c<n&&(n=c));if(o){t.splice(l--,1);var d=a();void 0!==d&&(s=d)}}return s}c=c||0;for(var l=t.length;l>0&&t[l-1][2]>c;l--)t[l]=t[l-1];t[l]=[i,a,c]}}(),function(){e.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(s,{a:s}),s}}(),function(){e.d=function(t,s){for(var i in s)e.o(s,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:s[i]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.hmd=function(t){return t=Object.create(t),t.children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t}}(),function(){e.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)}}(),function(){e.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){e.p="minigame-dice-roll/"}(),function(){var t={143:0};e.O.j=function(s){return 0===t[s]};var s=function(s,i){var a,c,n=i[0],o=i[1],r=i[2],d=0;if(n.some((function(s){return 0!==t[s]}))){for(a in o)e.o(o,a)&&(e.m[a]=o[a]);if(r)var l=r(e)}for(s&&s(i);d<n.length;d++)c=n[d],e.o(t,c)&&t[c]&&t[c][0](),t[c]=0;return e.O(l)},i=self["webpackChunkminigame_dice_roll"]=self["webpackChunkminigame_dice_roll"]||[];i.forEach(s.bind(null,0)),i.push=s.bind(null,i.push.bind(i))}();var i=e.O(void 0,[998],(function(){return e(28)}));i=e.O(i)})();
//# sourceMappingURL=app.7dbebcba.js.map